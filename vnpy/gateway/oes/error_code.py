from vnpy.api.oes.vnoes import OesApi_GetErrorMsg, OesApi_GetLastError


def error_to_str(code: int):
    try:
        # return error_codes[code]
        return OesApi_GetErrorMsg(code)
    except KeyError:
        return "Unknown error code!"


def get_last_error():
    code = OesApi_GetLastError()
    return OesApi_GetErrorMsg(code)


error_codes = {
    1001: "報文格式錯誤",
    1002: "當前主機不是主節點",
    1003: "主存庫操作失敗",
    1004: "因狀態等基礎資料不匹配，無法更新資料",
    1005: "協議版本不相容",
    1006: "資料不存在",
    1007: "未到達服務開放時間",
    1008: "非法的定位遊標",
    1009: "非法的客戶端登陸使用者名稱稱",
    1010: "非法的證券程式碼",
    1011: "非法的客戶程式碼",
    1012: "非法的客戶端型別",
    1013: "客戶端已被禁用",
    1014: "客戶端密碼不正確",
    1015: "客戶端重複登入",
    1016: "客戶端連線數量過多",
    1017: "客戶端未經授權操作他人賬戶",
    1018: "資料超出修改範圍",
    1019: "非法的應用系統名稱",
    1020: "請求條件有衝突",
    1021: "非法的客戶端IP/MAC地址格式",
    1022: "尚不支援此業務",
    1023: "非法的客戶端環境號",
    1024: "交易所拒絕",
    1025: "主櫃拒絕",
    1026: "流量超出限制範圍",
    1027: "禁止使用API登入",
    1028: "非法的私募基金產品程式碼",
    1029: "密碼未改變",
    1030: "非法的來源分類",
    1031: "非法的加密型別",
    1032: "非法的客戶端裝置序列號",
    1033: "無可用節點",
    1101: "登入櫃檯失敗",
    1102: "上報至櫃檯失敗",
    1103: "從櫃檯獲取狀態失敗",
    1201: "非法的證券賬戶程式碼",
    1202: "非法的資金賬戶程式碼",
    1203: "非法的出入金方向",
    1204: "非法的市場程式碼",
    1205: "非法的證券類別",
    1206: "非法的買賣型別",
    1207: "非法的幣種",
    1208: "非法的委託型別",
    1209: "無效的賬戶狀態",
    1210: "未找到委託資訊",
    1211: "未找到持倉資訊",
    1212: "未找到出入金流水",
    1213: "流水號重複",
    1214: "當前時段不能報價",
    1215: "沒有操作許可權",
    1216: "可用/可取資金餘額不足",
    1217: "可用持倉不足",
    1218: "委託數量不在合法區間內",
    1219: "非數量單位的整數倍",
    1220: "非法的PBU程式碼",
    1221: "價格不在合法區間內",
    1222: "非價格單位的整數倍",
    1223: "無漲停價市價委託失敗",
    1224: "當前時段不支援市價委託",
    1225: "無效的訂單狀態",
    1226: "撤單資訊與原始委託不符",
    1227: "重複撤單",
    1228: "未通過限倉檢查",
    1229: "未通過限購檢查",
    1230: "超過了ETF最大現金替代比例",
    1231: "非行權日",
    1232: "產品（證券）停牌",
    1233: "合約限制開倉",
    1234: "當日累計申購或贖回數量超過限額",
    1235: "當日累計淨申購或淨贖回數量超過限額",
    1236: "找不到前收盤價",
    1237: "超過報撤比限制",
    1238: "委託請求過於頻繁",
    1239: "非法的出入金轉賬金額",
    1240: "重複的認購委託",
    1241: "認購委託份數超過認購額度",
    1242: "出入金筆數超過限制",
    1243: "禁止同時做多筆出入金",
    1244: "非法的新股配號、中籤記錄型別",
    1245: "限制股東賬戶進行買交易",
    1246: "限制股東賬戶進行賣交易",
    1247: "限制股東賬戶進行逆回購交易",
    1248: "限制股東賬戶進行新股認購交易",
    1249: "股東賬戶沒有市價委託交易的許可權",
    1250: "股東賬戶沒有交易創業板證券的許可權",
    1251: "股東賬戶沒有交易分級基金的許可權",
    1252: "股東賬戶沒有債券合格投資者的許可權",
    1253: "客戶風險評級低於交易證券需求的風險等級",
    1254: "股東賬戶沒有交易風險警示證券的許可權",
    1255: "股東賬戶沒有交易退市整理證券的許可權",
    1256: "股東賬戶沒有交易單市場ETF的許可權",
    1257: "股東賬戶沒有交易跨市場ETF的許可權",
    1258: "股東賬戶沒有交易貨幣基金ETF的許可權",
    1259: "股東賬戶沒有交易跨境ETF的許可權",
    1260: "僅允許合格投資者投資該證券",
    1261: "僅允許合格機構投資者投資該證券",
    1262: "出入金執行異常，待人工干預",
    1263: "交易日不在證券的發行期內",
    1264: "ETF產品禁止申購",
    1265: "ETF產品禁止贖回",
    1266: "限制股東賬戶進行撤指定",
    1267: "限制股東賬戶進行轉託管",
    1268: "機構客戶/主櫃業務不支援銀行轉帳",
    1269: "不能買入被禁止開倉的證券",
    1270: "不能買入黑名單中的證券",
    1271: "股東賬戶沒有交易存託憑證的許可權",
    1272: "股東賬戶沒有交易創新企業股票的許可權",
    1273: "非法的出入金轉賬型別",

}
